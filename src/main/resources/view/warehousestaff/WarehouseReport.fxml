<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="10.0" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="controller.warehousestaff.WarehouseReportController"
      prefHeight="700.0" prefWidth="820.0">
    <padding>
        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
    </padding>

    <HBox alignment="CENTER_LEFT" spacing="15.0" style="-fx-background-color: #f8f9fa; -fx-padding: 10; -fx-background-radius: 8;">
        <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Warehouse Report" />
    </HBox>

    <HBox alignment="CENTER_LEFT" spacing="15.0" style="-fx-background-color: #e3f2fd; -fx-border-color: #2196f3; -fx-padding: 10; -fx-background-radius: 8;">
        <VBox spacing="2.0">
            <Label style="-fx-font-size: 10px; -fx-text-fill: #1976d2;" text="From:" />
            <DatePicker fx:id="dpFromDate" style="-fx-font-size: 11px;" />
        </VBox>

        <VBox spacing="2.0">
            <Label style="-fx-font-size: 10px; -fx-text-fill: #1976d2;" text="To:" />
            <DatePicker fx:id="dpToDate" style="-fx-font-size: 11px;" />
        </VBox>
    </HBox>

    <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
        <tabs>

            <Tab text="Stock Entry History">
                <content>
                    <VBox spacing="10.0">
                        <padding>
                            <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                        </padding>

                        <VBox style="-fx-background-color: white; -fx-border-color: #ddd; -fx-padding: 15; -fx-background-radius: 10;">
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Stock Entry History" />
                                <Region HBox.hgrow="ALWAYS" />

                                <TextField fx:id="txtSearchEntries" promptText="Search entries..."
                                           style="-fx-font-size: 11px;" prefWidth="200" />

                                <Button onAction="#handleExportStockEntries"
                                        style="-fx-background-color: #6f42c1; -fx-text-fill: white; -fx-font-size: 12px; -fx-padding: 5 10;"
                                        text="Export TXT" />
                            </HBox>
                            <Separator />

                            <HBox alignment="CENTER_RIGHT" spacing="5" style="-fx-padding: 5 0;">
                                <Label fx:id="lblEntriesCount" style="-fx-font-size: 12px; -fx-text-fill: #666;" text="Total: 0 records" />
                            </HBox>

                            <TableView fx:id="tblRecentEntries" prefHeight="500.0">
                                <columns>
                                    <TableColumn fx:id="colEntryID" prefWidth="100.0" text="Entry ID" />
                                    <TableColumn fx:id="colEntryDate" prefWidth="120.0" text="Entry Date" />
                                    <TableColumn fx:id="colSupplier" prefWidth="200.0" text="Supplier" />
                                    <TableColumn fx:id="colTotalQuantity" prefWidth="100.0" text="Total Quantity" />
                                    <TableColumn fx:id="colTotalValue" prefWidth="120.0" text="Total Value" />
                                </columns>
                            </TableView>
                        </VBox>
                    </VBox>
                </content>
            </Tab>

            <Tab text="Loss Report History">
                <content>
                    <VBox spacing="10.0">
                        <padding>
                            <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                        </padding>

                        <VBox style="-fx-background-color: white; -fx-border-color: #ddd; -fx-padding: 15; -fx-background-radius: 10;">
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Loss Report History" />
                                <Region HBox.hgrow="ALWAYS" />

                                <TextField fx:id="txtSearchLoss" promptText="Search loss reports..."
                                           style="-fx-font-size: 11px;" prefWidth="200" />

                                <Button onAction="#handleExportLossReports"
                                        style="-fx-background-color: #6f42c1; -fx-text-fill: white; -fx-font-size: 12px; -fx-padding: 5 10;"
                                        text="Export TXT" />
                            </HBox>
                            <Separator />

                            <HBox alignment="CENTER_RIGHT" spacing="5" style="-fx-padding: 5 0;">
                                <Label fx:id="lblLossCount" style="-fx-font-size: 12px; -fx-text-fill: #666;" text="Total: 0 records" />
                            </HBox>

                            <TableView fx:id="tblRecentLoss" prefHeight="500.0">
                                <columns>
                                    <TableColumn fx:id="colLossReportID" prefWidth="40.0" text="ID" />
                                    <TableColumn fx:id="colLossProduct" prefWidth="120.0" text="Product" />
                                    <TableColumn fx:id="colLossQuantity" prefWidth="60.0" text="Loss Qty" />
                                    <TableColumn fx:id="colLossReason" prefWidth="100.0" text="Reason" />
                                    <TableColumn fx:id="colLossValue" prefWidth="80.0" text="Loss Value" />
                                    <TableColumn fx:id="colAvgUnitCost" prefWidth="80.0" text="Avg Unit Cost" />
                                    <TableColumn fx:id="colLossReportDate" prefWidth="80.0" text="Report Date" />
                                </columns>
                            </TableView>
                        </VBox>
                    </VBox>
                </content>
            </Tab>
        </tabs>
    </TabPane>

</VBox>